<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   YouTube Mirror Search
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Roboto', sans-serif;
    }
  </style>
 </head>
 <body class="bg-gray-100 min-h-screen flex flex-col">
  <header class="bg-white shadow p-4 flex items-center justify-between">
   <h1 class="text-2xl font-bold text-red-600 flex items-center">
    <i class="fab fa-youtube mr-2">
    </i>
    YouTube Mirror
   </h1>
   <form class="flex w-full max-w-xl ml-4" id="search-form">
    <input class="flex-grow rounded-l-md border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-600" id="search-input" placeholder="Search YouTube videos..." required="" type="search"/>
    <button aria-label="Search" class="bg-red-600 hover:bg-red-700 text-white px-4 rounded-r-md flex items-center justify-center" type="submit">
     <i class="fas fa-search">
     </i>
    </button>
   </form>
  </header>
  <main class="flex-grow container mx-auto p-4 flex flex-col md:flex-row gap-6">
   <section class="md:w-2/3">
    <div class="aspect-w-16 aspect-h-9 bg-black rounded-md overflow-hidden shadow-md" id="video-player">
     <img alt="Placeholder image showing a play button on a black background with text 'Search and play YouTube videos'" class="w-full h-full object-cover" height="720" id="video-placeholder" src="https://storage.googleapis.com/a1aa/image/8a9e54d5-2295-49ef-f2c9-e1b4de121aac.jpg" width="1280"/>
    </div>
    <h2 class="mt-4 text-xl font-semibold text-gray-800" id="video-title">
    </h2>
    <p class="mt-2 text-gray-600" id="video-description">
    </p>
   </section>
   <aside class="md:w-1/3 overflow-y-auto max-h-[70vh]">
    <h3 class="text-lg font-semibold mb-3 text-gray-800">
     Search Results
    </h3>
    <ul class="space-y-3" id="results-list">
     <!-- Video results will be appended here -->
    </ul>
   </aside>
  </main>
  <footer class="bg-white text-center p-4 text-gray-600 text-sm">
   Â© 2024 YouTube Mirror. Powered by YouTube Data API.
  </footer>
  <script>
   // You must replace 'YOUR_API_KEY_HERE' with your actual YouTube Data API v3 key.
    // To get an API key, visit https://console.developers.google.com/apis/credentials
    const API_KEY = 'YOUR_API_KEY_HERE';

    const searchForm = document.getElementById('search-form');
    const searchInput = document.getElementById('search-input');
    const resultsList = document.getElementById('results-list');
    const videoPlayer = document.getElementById('video-player');
    const videoTitle = document.getElementById('video-title');
    const videoDescription = document.getElementById('video-description');
    const videoPlaceholder = document.getElementById('video-placeholder');

    // Clear previous results and video info
    function clearResults() {
      resultsList.innerHTML = '';
      videoTitle.textContent = '';
      videoDescription.textContent = '';
      videoPlayer.innerHTML = '';
    }

    // Create a video list item
    function createVideoItem(video) {
      const li = document.createElement('li');
      li.className = 'flex items-center space-x-3 cursor-pointer hover:bg-gray-200 rounded p-2';

      const thumbnail = document.createElement('img');
      thumbnail.src = video.snippet.thumbnails.default.url;
      thumbnail.alt = `Thumbnail of video titled ${video.snippet.title}`;
      thumbnail.className = 'w-20 h-12 object-cover rounded';

      const title = document.createElement('p');
      title.textContent = video.snippet.title;
      title.className = 'text-gray-800 text-sm flex-grow';

      li.appendChild(thumbnail);
      li.appendChild(title);

      li.addEventListener('click', () => {
        playVideo(video);
      });

      return li;
    }

    // Play selected video in iframe
    function playVideo(video) {
      const videoId = video.id.videoId;
      videoPlayer.innerHTML = `
        <iframe
          width="100%"
          height="100%"
          src="https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0"
          title="${video.snippet.title}"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      `;
      videoTitle.textContent = video.snippet.title;
      videoDescription.textContent = video.snippet.description;
    }

    // Fetch videos from YouTube API
    async function fetchVideos(query) {
      clearResults();
      resultsList.innerHTML = `<li class="text-center text-gray-500">Loading...</li>`;

      try {
        const response = await fetch(
          `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=15&type=video&q=${encodeURIComponent(
            query
          )}&key=${API_KEY}`
        );
        const data = await response.json();

        if (!data.items || data.items.length === 0) {
          resultsList.innerHTML = `<li class="text-center text-gray-500">No videos found for "${query}".</li>`;
          videoPlayer.innerHTML = `<img src="https://placehold.co/1280x720/png?text=No+videos+found" alt="Placeholder image with text 'No videos found'" class="w-full h-full object-cover rounded-md" />`;
          videoTitle.textContent = '';
          videoDescription.textContent = '';
          return;
        }

        resultsList.innerHTML = '';
        data.items.forEach((video) => {
          const videoItem = createVideoItem(video);
          resultsList.appendChild(videoItem);
        });

        // Auto play first video
        playVideo(data.items[0]);
      } catch (error) {
        resultsList.innerHTML = `<li class="text-center text-red-500">Error fetching videos. Please try again later.</li>`;
        videoPlayer.innerHTML = `<img src="https://placehold.co/1280x720/png?text=Error+loading+videos" alt="Placeholder image with text 'Error loading videos'" class="w-full h-full object-cover rounded-md" />`;
        videoTitle.textContent = '';
        videoDescription.textContent = '';
        console.error(error);
      }
    }

    searchForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const query = searchInput.value.trim();
      if (query) {
        fetchVideos(query);
      }
    });
  </script>
 </body>
</html>
